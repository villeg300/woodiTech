{% extends 'store/base.html' %}
{% block title %}Ajouter une adresse - Woodi Tech{% endblock %}
{% block content %}
<div class="container my-5 py-5" style="max-width:500px;margin:0 auto;">
    <h2 class="mb-4" style="color:#191989;font-weight:700;text-align:center;">Ajouter une adresse de livraison</h2>
    <form method="post" class="card shadow-sm p-4" style="border-radius:16px;">
        {% csrf_token %}
        <div class="mb-3">
            <label class="form-label">Nom complet</label>
            <input type="text" name="full_name" class="form-control" required placeholder="Entrez votre nom complet">
        </div>
        <div class="mb-3">
            <label class="form-label">Téléphone</label>
            <input type="text" name="phone" class="form-control" required placeholder="Entrez votre numéro de téléphone">
        </div>
        <div class="mb-3">
            <label class="form-label">Région</label>
            <input type="text" name="region" class="form-control" required placeholder="Entrez votre région">
        </div>
        <div class="mb-3">
            <label class="form-label">Ville</label>
            <input type="text" name="city" class="form-control" required placeholder="Entrez votre ville">
        </div>
        <div class="mb-3">
            <label class="form-label">Zone</label>
            <input type="text" name="zone" class="form-control" required placeholder="Entrez votre zone, secteur ou cartier ">
        </div>
        <input type="hidden" name="latitude" id="latitude">
        <input type="hidden" name="longitude" id="longitude">
        <div class="form-check mb-3">
            <input type="checkbox" name="is_default" class="form-check-input" id="is_default">
            <label class="form-check-label" for="is_default">Définir comme adresse par défaut</label>
        </div>
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-success w-50">Ajouter</button>
            <a href="{% url 'store:manage_addresses' %}" class="btn btn-secondary w-50">Annuler</a>
        </div>
        <script>
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                document.getElementById('latitude').value = position.coords.latitude;
                document.getElementById('longitude').value = position.coords.longitude;
            });
        }
        </script>
    </form>
</div>
{% endblock %}
