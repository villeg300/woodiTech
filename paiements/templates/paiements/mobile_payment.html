{% extends 'store/base.html' %}

{% block content %}
<style>
    .cinetpay-confirm {
        font-family: 'Inter', sans-serif;
        background-color: #f9f9f9;
    }

    .card {
        border-radius: 12px;
        border: none;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }

    .card-header {
        background-color: #000;
        color: #fff;
        border-radius: 12px 12px 0 0;
        padding: 1.2rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .btn-cinetpay {
        background-color: #FF5722;
        color: white;
        font-weight: 600;
    }

    .btn-cinetpay:hover {
        background-color: #e64a19;
    }

    .text-muted-small {
        font-size: 0.9rem;
        color: #6c757d;
    }
</style>

<div class="container py-5 cinetpay-confirm my-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0"><i class="bi bi-shield-lock-fill me-2"></i>Confirmation de paiement</h5>
                    <span class="fs-5 fw-bold">{{ payment.amount }} FCFA</span>
                </div>
                <div class="card-body">
                    <p class="mb-4 text-muted-small">
                        Veuillez vérifier les informations avant d’être redirigé vers la plateforme sécurisée de paiement.
                    </p>

                    <ul class="list-group list-group-flush mb-4">
                        <li class="list-group-item">
                            <i class="bi bi-hash me-2"></i><strong>ID de transaction :</strong> {{ payment.transaction_id }}
                        </li>
                        <li class="list-group-item">
                            <i class="bi bi-phone me-2"></i><strong>Opérateur :</strong> {{ payment.get_operator_display }}
                        </li>
                        <li class="list-group-item">
                            <i class="bi bi-telephone me-2"></i><strong>Téléphone :</strong> {{ payment.phone_number }}
                        </li>
                    </ul>

                    <form method="post">
                        {% csrf_token %}
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-cinetpay btn-lg">
                                <i class="bi bi-arrow-right-circle-fill me-1"></i>Confirmer et payer maintenant
                            </button>
                            <a href="{% url 'store:order_detail' payment.order.id %}" class="btn btn-outline-secondary">
                                <i class="bi bi-x-circle me-1"></i>Annuler
                            </a>
                        </div>
                    </form>

                    <p class="text-center mt-4 text-muted-small">
                        Vous serez redirigé vers CinetPay pour finaliser la transaction.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
