{% extends 'store/base.html' %}
{% load static %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow p-4 w-100" style="max-width: 400px;">
    <h2 class="mb-3 text-center" style="color:#191989;">Vérification du numéro</h2>
    <form method="post" novalidate>
      {% csrf_token %}
      <div class="mb-3">
        <label for="phone_code" class="form-label">Code reçu par SMS</label>
        <input type="text" class="form-control" id="phone_code" name="phone_code" maxlength="6" required autofocus>
        {% if errors.phone_code %}<div class="text-danger small">{{ errors.phone_code }}</div>{% endif %}
      </div>
      <button type="submit" class="btn w-100 mb-2" style="background:#191989;color:white;">Vérifier</button>
      <button type="submit" name="regen_code" class="btn btn-outline-primary w-100 mb-2" {% if not can_regen %}disabled{% endif %}>Régénérer le code</button>
      {% if errors.regen %}<div class="text-danger small">{{ errors.regen }}</div>{% endif %}
      {% if global_error %}<div class="text-danger small">{{ global_error }}</div>{% endif %}
    </form>
    <div class="mt-3 text-center">
      <small>Le code expire dans 15 minutes.</small>
    </div>
  </div>
</div>
{% endblock %}
